<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>sbt  â€¢ ebswp</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png"><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="sbt "><meta property="og:image" content="http://afsc-assessments.github.io/EBSwp/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">ebswp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="logo.png" class="logo" alt=""><h1>sbt </h1>
      
    </div>


<div id="sbt-" class="section level1">

<p>The R package <code>sbt</code> was developed for doing stock assessments of southern bluefin tuna (SBT) for the Comission for the Conservation of Southern Bluefin Tuna (CCSBT). The stock assessment model was coded using the Template Model Builder (<code>TMB</code>) software.</p>
<p>The operating model (OM) is an age structured model.</p>
<p>Frequentist inference can be done using <code>nlminb</code> and Bayesian inference can be done using the R package <code>tmbstan</code>.</p>
<div class="section level2">
<h2 id="cloning-the-repository-optional">Cloning the repository (optional)<a class="anchor" aria-label="anchor" href="#cloning-the-repository-optional"></a></h2>
<p>The R package <code>sbt</code> lives on a private GitHub repository. The repository can be cloned to your computer from the command line or using a user interface. From the command line using Linux the repository can be cloned using:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>git clone https<span class="sc">:</span><span class="er">//</span>github.com<span class="sc">/</span>CCSBT<span class="sc">/</span>sbt</span></code></pre></div>
<p>Because the <code>sbt</code> repository is private, you will be prompted to enter your username and personal access token (PAT).</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a></h2>
<p>There are several options for installing the <code>sbt</code> R package.</p>
<div class="section level3">
<h3 id="option-1">Option 1<a class="anchor" aria-label="anchor" href="#option-1"></a></h3>
<p>The <code>sbt</code> package can be installed from within R using:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span>repo <span class="op">=</span> <span class="st">"CCSBT/sbt"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>                         build_vignettes <span class="op">=</span> <span class="cn">TRUE</span>, auth_token <span class="op">=</span> <span class="st">"your_PAT"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="option-2">Option 2<a class="anchor" aria-label="anchor" href="#option-2"></a></h3>
<p>The GitHub repository can be cloned to your computer and the package installed from the command line. From Linux this would involve:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>git clone https<span class="sc">:</span><span class="er">//</span>github.com<span class="sc">/</span>CCSBT<span class="sc">/</span>sbt</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>R CMD INSTALL sbt</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="option-3">Option 3<a class="anchor" aria-label="anchor" href="#option-3"></a></h3>
<p>This time from within R using:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/install.html" class="external-link">install</a></span><span class="op">(</span><span class="st">"sbt"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="option-4">Option 4<a class="anchor" aria-label="anchor" href="#option-4"></a></h3>
<p>If you have an R package downloaded on your local machine as a .zip or tar.gz file, you can install it using the <code><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages()</a></code> function passing in the path where the zip file is saved, setting <code>repos</code> to <code>NULL</code> and <code>type</code> to <code>source</code>. For example:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"sbt_1.0.0_R_x86_64-pc-linux-gnu.tar.gz"</span>, repos <span class="op">=</span> <span class="cn">NULL</span>, </span>
<span>                 type <span class="op">=</span> <span class="st">"source"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="help">Help<a class="anchor" aria-label="anchor" href="#help"></a></h2>
<p>Help for all <code>sbt</code> functions and data sets can be found on the R help pages associated with each function and data set. Help for a specific function can be viewed using <code>?function_name</code>, for example:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">get_data</span></span>
<span><span class="op">?</span><span class="va">get_weight_at_age</span></span>
<span><span class="op">?</span><span class="va">plot_selectivity</span></span></code></pre></div>
<p>Alternatively, to see a list of all available functions and data sets use:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/help.html" class="external-link">help</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"sbt"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h2>
<p>The package vignettes are a great place to see what <code>sbt</code> can do. You can view the package vignettes from within R using:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/browseVignettes.html" class="external-link">browseVignettes</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"sbt"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span>topic <span class="op">=</span> <span class="st">"sbt"</span>, package <span class="op">=</span> <span class="st">"sbt"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="website">Website<a class="anchor" aria-label="anchor" href="#website"></a></h2>
<p>All of the vignettes and the help pages for each function are bundled together and published on the website <a href="https://ccsbt.github.io/sbt/" class="external-link uri">https://ccsbt.github.io/sbt/</a>.</p>
</div>
<div class="section level2">
<h2 id="developers">Developers<a class="anchor" aria-label="anchor" href="#developers"></a></h2>
<p>Developers will want to do things slightly differently. See the <code>Model development</code> vignette.</p>
</div>
</div>
<div class="section level1">
<h1 id="ebspollock">EBSpollock<a class="anchor" aria-label="anchor" href="#ebspollock"></a></h1>
<p>An attempt to make assessments more transparent!</p>
<div class="section level2">
<h2 id="the-ssc-continues-to-support">The SSC continues to support:<a class="anchor" aria-label="anchor" href="#the-ssc-continues-to-support"></a></h2>
<ul><li><p>Ongoing genetic studies to determine the relationship between pollock in the NBS and EBS, and nearby GOA and AI regions.</p></li>
<li><p>The 2019 BSAI GPT recommendation to revisit and evaluate the treatment of variance parameters within the assessment, with particular attention to those that are fixed.</p></li>
<li><p>Efforts to quantify pollock movement and abundance along the US-Russia EEZ boundary.</p></li>
<li><p>Geostatistical analyses of combined trawl and acoustic data to provide a single time-series, statistically accounting for the overlap between these data, for informing stock trends.</p></li>
</ul></div>
<div class="section level2">
<h2 id="the-ssc-provides-the-following-additional-recommendations">The SSC provides the following additional recommendations:<a class="anchor" aria-label="anchor" href="#the-ssc-provides-the-following-additional-recommendations"></a></h2>
<ul><li><p>Exploration of young-of-year pollock density and quality estimates from NMFS BASIS surveys to inform pollock recruitment.</p></li>
<li><p>Consideration of whether the observed sensitivity in the SRR to prior specification should constitute an increased risk level specification within the assessment or population dynamicsrelated considerations. This could provide a clearer justification for the use of the Tier 3 calculation as the basis for harvest specification.</p></li>
<li><p>Given the time-varying specification of fishery selectivity within the assessment model and the large change in the estimated 2021 FOFL between the 2019 and 2020 assessments, the authors should provide a retrospective comparison of the selectivity assumed in projections to that estimated with the addition of new data.</p></li>
<li><p>Consideration of whether risk table specifications should account for the importance of pollock as a key forage species in the EBS ecosystem to better justify the use of a Tier 3 ABC determination as a precautionary measure for this Tier 1 stock.</p></li>
<li><p>Given the apparent disappearance of the second and large mode in fishery length compositions as the 2020 B-season progressed, exploration of within-season spatial variation in fishery length composition would be useful in evaluating whether these larger pollock simply moved out of the area of fishing effort, or died as a result of natural or fishing mortality.</p></li>
</ul></div>
</div>
<div class="section level1">
<h1 id="ebs-pollock-2016">EBS pollock 2016<a class="anchor" aria-label="anchor" href="#ebs-pollock-2016"></a></h1>
<div class="section level2">
<h2 id="tasks-and-todo-list">Tasks and todo list<a class="anchor" aria-label="anchor" href="#tasks-and-todo-list"></a></h2>
<div class="sourceCode" id="cb9"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>[x] Add <span class="cf">in</span> survey biomass     </span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>[x] Update catches     </span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>[x] Add <span class="cf">in</span> <span class="dv">2015</span> fishery age compositions      </span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>[x] Add <span class="cf">in</span> <span class="dv">2016</span> survey age compositions     </span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>[x] Modify code to accommodate time<span class="sc">-</span>varying M</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>[ ] Modify code to accommodate biomass <span class="cf">in</span> density<span class="sc">-</span>dependent covariance</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a>[ ] Modify code to use new wt<span class="sc">-</span>age estimation</span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a>[ ] Figure out which models to use going forward     </span></code></pre></div>
<table style="width:100%;" class="table"><colgroup><col width="3%"><col width="1%"><col width="2%"><col width="8%"><col width="11%"><col width="4%"><col width="4%"><col width="4%"><col width="4%"><col width="12%"><col width="13%"><col width="4%"><col width="4%"><col width="19%"></colgroup><thead><tr class="header"><th>Models</th>
<th>3m</th>
<th>0.5m</th>
<th>Standard survey</th>
<th>Dens. Dep. Correction</th>
<th>Numbers</th>
<th>Biomass</th>
<th>Numbers</th>
<th>Biomass</th>
<th>15.1 Input sample sizes</th>
<th>Revised input sample sizes</th>
<th>wt 15.1</th>
<th>wt 16.0</th>
<th>Description</th>
</tr></thead><tbody><tr class="odd"><td>14.1</td>
<td>x</td>
<td></td>
<td>x</td>
<td></td>
<td>x</td>
<td></td>
<td>x</td>
<td></td>
<td>x</td>
<td></td>
<td>x</td>
<td></td>
<td>2014 model</td>
</tr><tr class="even"><td>15.1</td>
<td>x</td>
<td></td>
<td></td>
<td>x</td>
<td>x</td>
<td></td>
<td>x</td>
<td></td>
<td>x</td>
<td></td>
<td>x</td>
<td></td>
<td>2015 model</td>
</tr><tr class="odd"><td>16.01</td>
<td>x</td>
<td></td>
<td>x</td>
<td></td>
<td></td>
<td>x</td>
<td></td>
<td>x</td>
<td>x</td>
<td></td>
<td>x</td>
<td></td>
<td>Transition to biomass</td>
</tr><tr class="even"><td>16.02</td>
<td></td>
<td>x</td>
<td>x</td>
<td></td>
<td></td>
<td>x</td>
<td></td>
<td>x</td>
<td>x</td>
<td></td>
<td>x</td>
<td></td>
<td>Transition to ATS 0.5m</td>
</tr><tr class="odd"><td>16.03</td>
<td></td>
<td>x</td>
<td></td>
<td>x</td>
<td></td>
<td>x</td>
<td></td>
<td>x</td>
<td></td>
<td></td>
<td>x</td>
<td></td>
<td>Transition to BTS dens. dep. Correction</td>
</tr><tr class="even"><td>16.04</td>
<td></td>
<td>x</td>
<td></td>
<td>x</td>
<td></td>
<td>x</td>
<td></td>
<td>x</td>
<td></td>
<td>x</td>
<td>x</td>
<td></td>
<td>Input sample size adjustment</td>
</tr><tr class="odd"><td>16.1</td>
<td></td>
<td>x</td>
<td></td>
<td>x</td>
<td></td>
<td>x</td>
<td></td>
<td>x</td>
<td></td>
<td>x</td>
<td></td>
<td>x</td>
<td>Proposed model</td>
</tr></tbody></table></div>
</div>


  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Jim Ianelli.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.9000.</p>
</div>

    </footer></div>

  

  

  </body></html>

